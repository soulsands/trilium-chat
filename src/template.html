<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>

        <link rel="stylesheet" href="./normalize.min.css" />
        <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css" />
        <link rel="stylesheet" href="./boxicons/css/boxicons.min.css" />
        <link rel="stylesheet" href="./style.css" />
        <!-- <link rel="stylesheet" href="./theme-light.css" /> -->
        <link rel="stylesheet" href="./theme-dark.css" />

        <style>
            body {
                display: flex;
                flex-direction: column;
            }

            .operation-wrapper {
                display: flex;
                justify-content: space-between;
            }

            .operation {
                display: flex;
                height: 40px;

                user-select: none;
            }

            .chat-wrapper {
                transform: translateZ(0);
                display: none;
                /* min-width: 0 !important; */
            }
        </style>
    </head>

    <body>
        <div class="operation-wrapper">
            <div>apikey:<input type="text" id="apikey" /> <button id="keySave">Save</button></div>
            <div class="operation"></div>
        </div>

        <script>
            document.querySelector('#keySave').addEventListener('click', () => {
                const apikey = document.querySelector('#apikey').value;
                _triliumChat.chatData.setOption('apiKey', apikey);
            });
        </script>
        <!-- skeleton-flag -->
        <div class="chat-wrapper">
            <div class="resizer"></div>

            <div class="header">
                <div class="header_left flex-center">
                    <a
                        class="link flex-center no-arrow"
                        href="https://github.com/soulsands/trilium-chat"
                        target="_blank"
                    >
                        <i class="header_face bx icon-view" title="home"></i>
                    </a>
                </div>
                <div class="header_right"><i title="hide" class="header_hide bx bx-minus icon-action"></i></div>
            </div>

            <div class="thread">
                <div class="thread-messages"></div>

                <button class="thread_op thread_op_stop">stop generating</button>
                <button class="thread_op thread_op_regenerate">regenerate</button>

                <div class="msg-command">
                    <div class="command_item" command="copy" title="Copy">Copy</div>
                    <div class="command_item" command="insert" title="Insert to caret">Insert</div>
                    <div class="command_item" command="append" title="Append to active notet">Append</div>
                    <div class="command_item" command="set" title="Set to active note">Set</div>
                    <div class="command_item" command="child" title="Save to new child">Child</div>
                </div>
            </div>

            <div class="prompt_content">
                <div class="prompt_content_close flex-row-reverse">
                    <i class="bx bx-x icon-action"></i>
                </div>
                <div class="prompt_content_text"></div>
            </div>

            <div class="operate no-shrink">
                <div class="operate_top flex-center-between">
                    <div class="operate_top_left flex-center">
                        <button class="operate_btn operate_btn_new chat_button">New Chat</button>
                        <div
                            class="operate_btn operate_btn_prompt bx bx-book-bookmark icon-action"
                            title="Prompt"
                        ></div>
                        <div class="operate_btn operate_btn_command bx bx-terminal icon-action" title="Command"></div>
                        <div class="operate_btn operate_btn_history bx bx-history icon-action" title="History"></div>
                    </div>
                    <div class="operate_top_right">
                        <div class="operate_btn operate_btn_option bx bx-cog icon-action" title="Options"></div>
                    </div>
                </div>

                <div class="operate_input">
                    <textarea class="input-area" placeholder="Send a message..."></textarea>
                    <i
                        title="Send(Enter to send, Shift+Enter to break line)"
                        class="operate_send bx bx-paper-plane icon-action"
                    ></i>
                </div>
                <div class="operate_bottom flex-row-reverse">
                    <div class="operate_status"></div>
                </div>
            </div>

            <div class="content_select content_select_prompt">
                <div class="select_top flex-center-between">
                    <div class="flex-center">
                        <div class="select_count pointer">Prompt(<span class="select_num">0</span>)</div>
                        <div class="ml-2 select_add bx bx-plus icon-action"></div>
                    </div>
                    <div class="select_close bx bx-chevron-down icon-action"></div>
                </div>
                <div class="select_search flex-center">
                    <i class="bx bx-search"></i>
                    <input class="select_search_input" placeholder="Search" type="text" />
                </div>
                <div class="select_list">
                    <div class="select_item" tabindex="0">
                        <div class="item_up">
                            <div class="item_title one-line"></div>
                            <div class="item_op no-shrink">
                                <i class="bx bx-edit-alt icon-action"></i>
                                <i class="bx bx-trash icon-action"></i>
                            </div>
                        </div>
                        <div class="item_preview one-line"></div>
                    </div>
                </div>
            </div>

            <form class="content_prompt_form">
                <label>Prompt Name:</label>
                <input class="prompt_input" placeholder="Name your prompt" type="text" name="prompt-name" />
                <label class="mt-1">Prompt Content:</label>
                <textarea
                    class="prompt_input prompt_input_content"
                    placeholder="Paste or input content here"
                    type="tex"
                    name="prompt-content"
                ></textarea>
            </form>

            <div class="content_select content_select_history">
                <div class="select_top flex-center-between">
                    <div class="select_count">History(<span class="select_num"></span>)</div>
                    <div class="select_close bx bx-chevron-down icon-action"></div>
                </div>
                <div class="select_search flex-center">
                    <i class="bx bx-search"></i>
                    <input class="select_search_input" placeholder="Search" type="text" />
                </div>
                <div class="select_list">
                    <div class="select_item" tabindex="0">
                        <div class="flex-center-between item_up">
                            <div class="item_title one-line"></div>
                            <div class="item_stamp no-shrink"></div>
                        </div>
                        <div class="flex-center-between item_down">
                            <div class="item_preview one-line"></div>
                            <!-- <div class="item_op no-shrink">
                                <div class="item_op_delete">asdfasd</div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="content_command">
                <div class="command_title">Commands</div>
                <div class="command_list">
                    <div class="command_item" command="copy">Copy thread</div>
                    <div class="command_item" command="history">Save to history</div>
                    <div class="command_item" command="favor">Favor in history</div>
                    <div class="command_item" command="unfavor">Unfavor in history</div>
                    <div class="command_item" command="set">Set to active note</div>
                    <div class="command_item" command="append">Append to active note</div>
                    <div class="command_item" command="child">Save to new child</div>
                </div>
            </div>
        </div>
        <!-- skeleton-flag -->
        <script></script>
    </body>
</html>
